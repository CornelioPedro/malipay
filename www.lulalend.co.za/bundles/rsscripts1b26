function repaymentCalc(n){
var t=n[0].$element;months===undefined&&(months=6);
t.hasClass("repayment-calc")&&repaymentDetails(interestRate,Number($("#jsAmountCalcIn").val()),Number($("#jsMonthsCalcIn").val()),months)
}
function repaymentDetails(n,t,i,r){var f,u,o,e;for($("#jsAmountCalcOut").val(FormatCurrencyWithSep(t)),$("#jsMonthsCalcOut").val(i),f=0,u=1;u<=r;u++)o=getMonthlyPayment(u,t,i,r),$("td#principle"+u).text(FormatCurrencyWithSep(Number(o).toFixed())),e=getStackedMonthlyCost(u,t,i,n,r),$("td#feeAmount"+u).text(FormatCurrencyWithSep(Number(e).toFixed())),$("td#payment"+u).text(FormatCurrencyWithSep(Number(e+o).toFixed())),f+=e;$("td#totalPrinciple").text(FormatCurrencyWithSep(Number(t).toFixed()));$("td#totalCost").text(FormatCurrencyWithSep(Number(f).toFixed()));$("td#totalRepayment, #totalRepaymentIsolate").text(FormatCurrencyWithSep(Number(t+f).toFixed()))}function toggleExtraRows(n){n===!0?($("#rwRepayment7").show(),$("#rwRepayment8").show(),$("#rwRepayment9").show(),$("#rwRepayment10").show(),$("#rwRepayment11").show(),$("#rwRepayment12").show()):($("#rwRepayment7").hide(),$("#rwRepayment8").hide(),$("#rwRepayment9").hide(),$("#rwRepayment10").hide(),$("#rwRepayment11").hide(),$("#rwRepayment12").hide())}function getStackedMonthlyCost(n,t,i,r,u){u||(u=6);var f=.02,e=(r-4*f)/2;return n>i?0:Number(u*.34)>n?e*t:f*t}function getMonthlyPayment(n,t,i,r){var u=parseInt(t/r);return n<i?u:n===i?t-(n-1)*u:n>i?0:void 0}!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";function o(){var n=document.createElement("input");return n.setAttribute("type","range"),"text"!==n.type}function s(n,t){var i=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)}function h(n,t){return t=t||100,function(){if(!n.debouncing){var i=Array.prototype.slice.apply(arguments);n.lastReturnVal=n.apply(window,i);n.debouncing=!0}return clearTimeout(n.debounceTimeout),n.debounceTimeout=setTimeout(function(){n.debouncing=!1},t),n.lastReturnVal}}function c(n){return n&&(0===n.offsetWidth||0===n.offsetHeight||n.open===!1)}function l(n){for(var i=[],t=n.parentNode;c(t);)i.push(t),t=t.parentNode;return i}function e(n,t){function e(n){"undefined"!=typeof n.open&&(n.open=!n.open)}var r=l(n),f=r.length,o=[],s=n[t],i,u;if(f){for(i=0;i<f;i++)o[i]=r[i].style.cssText,r[i].style.setProperty?r[i].style.setProperty("display","block","important"):r[i].style.cssText+=";display: block !important",r[i].style.height="0",r[i].style.overflow="hidden",r[i].style.visibility="hidden",e(r[i]);for(s=n[t],u=0;u<f;u++)r[u].style.cssText=o[u],e(r[u])}return s}function r(n,t){var i=parseFloat(n);return Number.isNaN(i)?t:i}function f(n){return n.charAt(0).toUpperCase()+n.substr(1)}function t(t,r){if(this.$window=n(window),this.$document=n(document),this.$element=n(t),this.options=n.extend({},y,r),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=u.orientation[this.orientation].dimension,this.DIRECTION=u.orientation[this.orientation].direction,this.DIRECTION_STYLE=u.orientation[this.orientation].directionStyle,this.COORDINATE=u.orientation[this.orientation].coordinate,this.polyfill&&v)return!1;this.identifier="js-"+i+"-"+a++;this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier;this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier;this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier;this.toFixed=(this.step+"").replace(".","").length-1;this.$fill=n('<div class="'+this.options.fillClass+'" />');this.$handle=n('<div class="'+this.options.handleClass+'" />');this.$range=n('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle);this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"});this.handleDown=n.proxy(this.handleDown,this);this.handleMove=n.proxy(this.handleMove,this);this.handleEnd=n.proxy(this.handleEnd,this);this.init();var f=this;this.$window.on("resize."+this.identifier,h(function(){s(function(){f.update(!1,!1)},300)},20));this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown);this.$element.on("change."+this.identifier,function(n,t){if(!t||t.origin!==f.identifier){var i=n.target.value,r=f.getPositionFromValue(i);f.setPosition(r)}})}Number.isNaN=Number.isNaN||function(n){return"number"==typeof n&&n!==n};var i="rangeslider",a=0,v=o(),y={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},u={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};return t.prototype.init=function(){this.update(!0,!1);this.onInit&&"function"==typeof this.onInit&&this.onInit()},t.prototype.update=function(n,t){n=n||!1;n&&(this.min=r(this.$element[0].getAttribute("min"),0),this.max=r(this.$element[0].getAttribute("max"),100),this.value=r(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=r(this.$element[0].getAttribute("step"),1));this.handleDimension=e(this.$handle[0],"offset"+f(this.DIMENSION));this.rangeDimension=e(this.$range[0],"offset"+f(this.DIMENSION));this.maxHandlePos=this.rangeDimension-this.handleDimension;this.grabPos=this.handleDimension/2;this.position=this.getPositionFromValue(this.value);this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass);this.setPosition(this.position,t)},t.prototype.handleDown=function(n){if(n.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),!((" "+n.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var t=this.getRelativePosition(n),r=this.$range[0].getBoundingClientRect()[this.DIRECTION],i=this.getPositionFromNode(this.$handle[0])-r,u="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(u);t>=i&&t<i+this.handleDimension&&(this.grabPos=t-i)}},t.prototype.handleMove=function(n){n.preventDefault();var t=this.getRelativePosition(n),i="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(i)},t.prototype.handleEnd=function(n){n.preventDefault();this.$document.off(this.moveEvent,this.handleMove);this.$document.off(this.endEvent,this.handleEnd);this.$range.removeClass(this.options.activeClass);this.$element.trigger("change",{origin:this.identifier});this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},t.prototype.cap=function(n,t,i){return n<t?t:n>i?i:n},t.prototype.setPosition=function(n,t){var i,r;void 0===t&&(t=!0);i=this.getValueFromPosition(this.cap(n,0,this.maxHandlePos));r=this.getPositionFromValue(i);this.$fill[0].style[this.DIMENSION]=r+this.grabPos+"px";this.$handle[0].style[this.DIRECTION_STYLE]=r+"px";this.setValue(i);this.position=r;this.value=i;t&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(r,i)},t.prototype.getPositionFromNode=function(n){for(var t=0;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t},t.prototype.getRelativePosition=function(n){var t=f(this.COORDINATE),r=this.$range[0].getBoundingClientRect()[this.DIRECTION],i=0;return"undefined"!=typeof n.originalEvent["client"+t]?i=n.originalEvent["client"+t]:n.originalEvent.touches&&n.originalEvent.touches[0]&&"undefined"!=typeof n.originalEvent.touches[0]["client"+t]?i=n.originalEvent.touches[0]["client"+t]:n.currentPoint&&"undefined"!=typeof n.currentPoint[this.COORDINATE]&&(i=n.currentPoint[this.COORDINATE]),i-r},t.prototype.getPositionFromValue=function(n){var t,i;return t=(n-this.min)/(this.max-this.min),i=Number.isNaN(t)?0:t*this.maxHandlePos},t.prototype.getValueFromPosition=function(n){var t,i;return t=n/(this.maxHandlePos||1),i=this.step*Math.round(t*(this.max-this.min)/this.step)+this.min,Number(i.toFixed(this.toFixed))},t.prototype.setValue=function(n){n===this.value&&""!==this.$element[0].value||this.$element.val(n).trigger("input",{origin:this.identifier})},t.prototype.destroy=function(){this.$document.off("."+this.identifier);this.$window.off("."+this.identifier);this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+i);this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},n.fn[i]=function(r){var u=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=n(this),f=e.data("plugin_"+i);f||e.data("plugin_"+i,f=new t(this,r));"string"==typeof r&&f[r].apply(f,u)})},"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"});toggleExtraRows(!1);var interestRate=.17,months=6,value=6;$(document).ready(function(){$('input[type="radio"]').click(function(){$(this).val()==="1"?(months=12,value=12,toggleExtraRows(!0)):(months=6,value=6,toggleExtraRows(!1));var n={max:months};$("#jsMonthsCalcIn").attr(n).change();$("#jsMonthsCalcIn").rangeslider("update",!0);$("#jsMonthsCalcIn").val(value).change();$("#jsMonthsCalcIn").rangeslider("update",!0);$("#jsMonthsCalcOut").html(value)});$('input[type="range"]').rangeslider({polyfill:!1,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",onInit:function(){},onSlide:function(){repaymentCalc($(this))},onSlideEnd:function(){repaymentCalc($(this))}});$("input:radio:first").prop("checked",!0).trigger("click")})